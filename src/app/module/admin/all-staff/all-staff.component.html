<div class="container">
<ng-container *ngFor="let item of staffList">
    <div class="row my-3">
        <div class="col">
<mat-card class="w-100  ">
   
  <mat-card-content>
<div class="row">
  <div class="col-md-3 d-flex align-items-center justify-content-center flex-column">
    <div class="rounded-3">
      <img src="./assets/images/{{item.image}}" class="profile my-3" alt="">
    </div>
    <mat-card-title>
      {{item.name | titlecase}}
    </mat-card-title>
    <mat-card-subtitle class="text-secondary"> {{item.role}}</mat-card-subtitle>
  </div>
  <div class="col-md-8 table-responsive text-nowrap">
    <table class="w-100">
      <tbody>

        <!-- row 1 ------------- -->

      <tr>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Staff Id</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.id}}</p>
            </div>
          </div>
        </td>
       
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Date of birth</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.dob}}</p>
            </div>
          </div>
        </td>
      </tr>
      <!-- row 2 -----------  -->
      <tr>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Name</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.name}}</p>
            </div>
          </div>
        </td>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Age</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.age}}</p>
            </div>
          </div>
        </td>
      </tr>
      <tr>
          <td>
            <div class="row">
              <div class="col-sm-4">
                <p class="mb-0 h6">Gender</p>
              </div>
              <div class="col-sm-8">
                <p class="text-white mb-0 h6">{{item.gender}}</p>
              </div>
            </div>
          </td>
         
          <td>
            <div class="row">
              <div class="col-sm-4">
                <p class="mb-0 h6">Blood Group</p>
              </div>
              <div class="col-sm-8">
                <p class="text-white mb-0 h6">{{item.blood}}</p>
              </div>
            </div>
          </td>
        
      </tr>
      <tr>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Pincode</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.pin}}</p>
            </div>
          </div>
        </td>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Phone</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6">{{item.mobile}}</p>
            </div>
          </div>
        </td>
       
      </tr>
      <tr>
        <td>
          <div class="row">
            <div class="col-sm-4">
              <p class="mb-0 h6">Email</p>
            </div>
            <div class="col-sm-8">
              <p class="text-white mb-0 h6 ">{{item.email}}</p>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
    </table>
  </div>
</div>

    <div class="row my-3 text-dark">
          </div>
<ng-container *ngIf="showLeaveDeatails">
    
    <section>
        <mat-card class="my-3">
            <mat-card-header class="flex-d justify-content-between">
                <mat-card-title class="my-3">Leave Details</mat-card-title>
                <mat-card-actions>
                    <button mat-raised-button (click)="closeLeave()" class="bg-success text-white px-1">Close</button>
             
                </mat-card-actions>
              </mat-card-header>

            <mat-card-content>
        <table mat-table [dataSource]="leaveSource" class="mat-elevation-z8" matSort>

            <ng-container matColumnDef="count">
                <th mat-header-cell *matHeaderCellDef> Sl No </th>
                <td mat-cell *matCellDef="let element;let i=index"> {{i+1}} </td>
            </ng-container>
            <ng-container matColumnDef="leaveType">
                <th mat-header-cell *matHeaderCellDef> Leave Type </th>
                <td mat-cell *matCellDef="let element"> {{element.leaveType}} </td>
            </ng-container>

            <ng-container matColumnDef="leaveCount">
                <th mat-header-cell *matHeaderCellDef> Leave Count </th>
                <td mat-cell *matCellDef="let element"> {{element.leaveCount}} </td>
            </ng-container>
            <ng-container matColumnDef="reason">
                <th mat-header-cell *matHeaderCellDef> Reason </th>
                <td mat-cell *matCellDef="let element "> {{element.reason}} </td>
            </ng-container>
            <ng-container matColumnDef="leaveStart">
                <th mat-header-cell *matHeaderCellDef> Leave Start </th>
                <td mat-cell *matCellDef="let element "> {{element.leaveStart}} </td>
            </ng-container>

            <ng-container matColumnDef="leaveEnd">
                <th mat-header-cell *matHeaderCellDef> Leave End </th>
                <td mat-cell *matCellDef="let element"> {{element.leaveEnd}} </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element"> 
                    <span *ngIf="element.approved;else reject" class="bg-success py-1 px-2 rounded-3">approved</span>
                <ng-template #reject> <span class="bg-danger py-1 px-2 rounded-3"> reject</span></ng-template> </td>
            </ng-container>
            
            <tr mat-header-row *matHeaderRowDef="leaveColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: leaveColumns;"></tr>
        </table>

    </mat-card-content>
</mat-card>
    </section>
</ng-container>
<ng-container *ngIf="showWorkDeatails">
    <section>
        <mat-card class="my-3">
            <mat-card-header class="flex-d justify-content-between">
                <mat-card-title class="my-3">Work Details</mat-card-title>
                <mat-card-actions>
                    <button mat-raised-button (click)="closeWorks()" class="bg-success text-white px-1">Close</button>
             
                </mat-card-actions>
              </mat-card-header>
            <mat-card-content>
        <table mat-table [dataSource]="workSource" class="mat-elevation-z8" matSort>

            <ng-container matColumnDef="count">
                <th mat-header-cell *matHeaderCellDef> Sl No </th>
                <td mat-cell *matCellDef="let element;let i=index"> {{i+1}} </td>
            </ng-container>
            <ng-container matColumnDef="leaveType">
                <th mat-header-cell *matHeaderCellDef> Title </th>
                <td mat-cell *matCellDef="let element"> {{element.title}} </td>
            </ng-container>

            <ng-container matColumnDef="leaveCount">
                <th mat-header-cell *matHeaderCellDef> Priority </th>
                <td mat-cell *matCellDef="let element"> {{element.priority}} </td>
            </ng-container>
            <ng-container matColumnDef="reason">
                <th mat-header-cell *matHeaderCellDef> Naration </th>
                <td mat-cell *matCellDef="let element "> {{element.desc}} </td>
            </ng-container>
            <ng-container matColumnDef="leaveStart">
                <th mat-header-cell *matHeaderCellDef> Assin Date </th>
                <td mat-cell *matCellDef="let element "> {{element.approved}} </td>
            </ng-container>

            <ng-container matColumnDef="leaveEnd">
                <th mat-header-cell *matHeaderCellDef> Target Date </th>
                <td mat-cell *matCellDef="let element"> {{element.target}} </td>
            </ng-container>
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element"> 
                    <span *ngIf="element.status;else reject" class="bg-success py-1 px-2 rounded-3">Finished</span>
                <ng-template #reject> <span class="bg-warning py-1 px-2 rounded-3"> Pending</span></ng-template> </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="leaveColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: leaveColumns;"></tr>
        </table>

    </mat-card-content>
</mat-card>
    </section>
    

</ng-container>
        </mat-card-content>
        <mat-card-actions>
             <div class="w-100 d-flex justify-content-end mb-3">
              <button mat-raised-button (click)="showLeave(item.leaveData)" class="bg-secondary text-white px-3 mx-2" *ngIf="!showLeaveDeatails">Leave Details</button>
              <button type="reset" mat-raised-button (click)="showWorks(item.work)" class="bg-secondary text-white px-3 mx-2" *ngIf="!showWorkDeatails">Work Details</button>
            </div>
</mat-card-actions>
        </mat-card>
    </div>
    </div>
    </ng-container>
</div>